@using MyWebApp.Core.Utility;
@using static MyWebApp.Core.Model.ViewModels.User.UserViewModel;
@inject IHttpContextAccessor contxt;
@{
    var common = new Common();
    List<Role> roleList = common.GetRoleList();
}
<b>Role :</b>
<li class="nav-item dropdown pe-3">
    <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
        <span class="d-none d-md-block dropdown-toggle ps-2">@common.UserRoleName</span>
        @if (roleList.Count > 1)
        {
            <i class="bi bi-chevron-down ms-auto"></i>
        }
    </a>
    @if (roleList.Count > 1)
    {
        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            @foreach (var item in roleList)
            {
                if (item.RoleCode != common.UserRole)
                {
                    <li onclick="setRole('@item.RoleCode')" style="cursor:pointer">
                        <a class="dropdown-item d-flex align-items-center">
                            <i class="bi bi-person"></i>
                            <span>@item.RoleName</span>
                        </a>                   
                    </li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                }
            }
        </ul>
    }
</li>
